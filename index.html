<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>APK PREMIUM BERBAYAR PB STORE üî•</title>
  <style>
    :root{
      --bg:#121212;
      --card:#1b1b1b;
      --muted:#bbb;
      --accent:#ff8fcf; /* üå∏ warna pink utama */
      --accent-2:#ffb6e6;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: 'Poppins', sans-serif;
      background:var(--bg);
      color:var(--accent);
      text-align:center;
      position:relative;
      overflow-x:hidden;
      z-index:0;
    }

    /* watermark */
    body::before{
      content:"";
      position:fixed;
      inset:0;
      background-image: url('aset/logo.jpg');
      background-repeat:no-repeat;
      background-position:center center;
      background-size: 80%;
      opacity:0.50;
      z-index:-2;
      pointer-events:none;
      filter:saturate(0.6) brightness(0.9);
    }

    /* lightning */
    body::after{
      content:"";
      position:fixed;
      inset:0;
      z-index:-1;
      pointer-events:none;
      background:transparent;
      mix-blend-mode:screen;
      animation:lightning 6s infinite;
    }
    @keyframes lightning{
      0%, 7%, 100% { background: rgba(0,0,0,0); }
      1% { background: radial-gradient(circle at 20% 10%, rgba(255,182,230,0.15) 0%, transparent 25%), radial-gradient(circle at 80% 70%, rgba(255,143,207,0.08) 0%, transparent 25%); }
      3% { background: radial-gradient(circle at 40% 30%, rgba(255,143,207,0.12) 0%, transparent 18%); }
      4% { background: rgba(255,143,207,0.06); }
      10% { background: rgba(0,0,0,0); }
      22% { background: radial-gradient(circle at 85% 20%, rgba(255,182,230,0.1) 0%, transparent 18%); }
      23% { background: rgba(255,143,207,0.05); }
      44% { background: radial-gradient(circle at 15% 80%, rgba(255,182,230,0.12) 0%, transparent 20%); }
      45% { background: rgba(255,143,207,0.05); }
      73% { background: radial-gradient(circle at 60% 25%, rgba(255,143,207,0.1) 0%, transparent 20%); }
      74% { background: rgba(255,143,207,0.06); }
    }

    h1{
      margin:0;
      padding:16px 0;
      background:#1e1e1e;
      color:var(--accent);
      font-size:18px;
      border-bottom:1px solid #333;
    }

    .header-logo{
      width:28px;
      height:28px;
      object-fit:cover;
      vertical-align:middle;
      margin-right:8px;
      border-radius:6px;
      display:inline-block;
    }

    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(120px,1fr));
      gap:14px;
      padding:20px;
      max-width:1100px;
      margin:0 auto;
    }
    .card{
      background:var(--card);
      border-radius:12px;
      padding:12px;
      cursor:pointer;
      transition:transform .15s ease, background .15s;
      box-shadow:0 0 10px rgba(255,255,255,0.03);
      user-select:none;
      color:var(--accent);
    }
    .card:hover{ transform:translateY(-4px) scale(1.02); background:#232323 }
    .card img{ width:70px; height:70px; object-fit:cover; border-radius:10px; display:block; margin:6px auto; }
    .card p{ margin:6px 0 0; font-size:13px; color:var(--accent) }

    /* modal */
    .modal{
      display:none;
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.72);
      z-index:40;
      display:flex;
      justify-content:center;
      align-items:center;
      padding:20px;
      /* tambahan: biar modal bisa discroll jika konten terlalu tinggi */
      overflow:auto;
    }
    .modal-content{
      width:100%;
      max-width:420px;
      background:#1e1e1e;
      border-radius:14px;
      padding:18px;
      text-align:left;
      position:relative;
      color:var(--accent);
      animation:pop .18s ease;
      /* tambahkan batas tinggi dan scroll internal agar tidak ketutup di layar kecil */
      max-height: 90vh;
      overflow-y: auto;
      box-sizing: border-box;
    }
    @keyframes pop{ from{opacity:0; transform:scale(.96)} to{opacity:1; transform:scale(1)} }
    .close-btn{
      position:absolute;
      right:12px;
      top:10px;
      font-size:22px;
      color:var(--accent);
      cursor:pointer;
      font-weight:700;
    }
    .close-btn:hover{ color:#fff }
    #popupTitle{ margin:6px 0 12px; font-size:20px; color:var(--accent); font-weight:700 }
    #hargaList .harga{
      background:#2c2c2c;
      padding:10px;
      border-radius:10px;
      margin:8px 0;
      cursor:pointer;
      color:var(--accent);
      transition:background .12s, color .12s;
    }
    #hargaList .harga:hover,#hargaList .harga.active{ background:var(--accent); color:#000 }

/* PAYMENT LOGO STYLE FIX */
.payment-methods {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px;
  margin-top: 14px;
}
.payment {
  background: #2c2c2c;
  border-radius: 12px;
  padding: 8px;
  cursor: pointer;
  transition: background .12s, transform .12s;
  width: 60px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.payment img {
  width: 38px;
  height: 38px;
  object-fit: contain;
}
.payment:hover,
.payment.active {
  background: var(--accent);
  transform: scale(1.05);
}

    .notes{
      font-size:12px;
      color:var(--muted);
      margin-top:12px;
      border-top:1px solid #333;
      padding-top:10px;
    }
    button.primary{
      width:100%;
      margin-top:12px;
      padding:10px 12px;
      border-radius:10px;
      border:0;
      background:var(--accent);
      color:#000;
      font-weight:700;
      cursor:pointer;
    }
    button.primary:disabled{ opacity:.5; cursor:not-allowed }

    /* social & footer */
    .social-section{ margin:26px 0 6px; text-align:center }
    .social-caption{ font-style:italic; color:var(--accent-2); margin-bottom:10px }
    .social-links a{
      display:inline-block;
      text-decoration:none;
      background:var(--accent);
      color:#000;
      padding:8px 14px;
      border-radius:8px;
      margin:6px;
      font-weight:700;
    }
    .social-links a:hover{ background:var(--accent-2) }
    footer{ color:var(--muted); font-size:12px; margin:18px 0 30px }

    @media (max-width:420px){
      .grid{ gap:10px; padding:14px }
      .card img{ width:64px; height:64px }
      .modal-content{ padding:16px }
      .header-logo{ width:24px; height:24px; margin-right:6px }
    }

    /* ensure text color */
    a, a:visited, p, span, li, b, strong, label, input, textarea, select, button, .card p, .social-caption, footer, .notes {
      color: var(--accent) !important;
    }
    .social-links a, button.primary { color: #000 !important; }
    
    .search-container {
  width: 100%;
  padding: 15px 20px;
  display: flex;
  justify-content: center;
}

#searchInput {
  width: 90%;
  max-width: 450px;
  padding: 10px 14px;
  border-radius: 10px;
  border: 1px solid #333;
  background: #1e1e1e;
  color: var(--accent);
  font-size: 14px;
  outline: none;
  transition: 0.2s;
}

#searchInput:focus {
  border-color: var(--accent);
}

.search-container {
  width: 100%;
  padding: 15px 20px;
  display: flex;
  justify-content: center;
}

.search-box {
  position: relative;
  width: 90%;
  max-width: 450px;
}

.search-icon {
  position: absolute;
  top: 50%;
  left: 12px;
  transform: translateY(-50%);
  color: var(--accent);
  font-size: 16px;
  pointer-events: none;
}

#searchInput {
  width: 100%;
  padding: 10px 14px 10px 38px; /* tambah ruang kiri untuk ikon */
  border-radius: 10px;
  border: 1px solid #333;
  background: #1e1e1e;
  color: var(--accent);
  font-size: 14px;
  outline: none;
  transition: 0.2s;
}

#searchInput:focus {
  border-color: var(--accent);
}
/* Tombol Musik di Dalam Search Box */
.music-icon {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  background: transparent;
  border: none;
  font-size: 18px;
  color: var(--accent);
  cursor: pointer;
}

/* tombol musik di dalam search */
.music-btn {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  background: transparent;
  border: none;
  color: var(--accent);
  font-size: 18px;
  cursor: pointer;
}

/* search box wajib relative */
.search-box {
  position: relative;
}

/* === FLOATING PLAYER === */
.floating-player {
  position: fixed;
  top: 70px; /* muncul di bawah search */
  left: 50%;
  transform: translateX(-50%) translateY(-30px);
  background: rgba(20,20,20,0.75);
  box-shadow: 0 6px 25px rgba(0,0,0,0.45);
  backdrop-filter: blur(10px);
  padding: 10px 14px;
  border-radius: 18px;
  z-index: 9999;
  opacity: 0;
  pointer-events: none;
  transition: all 0.25s ease;
}

.floating-player.show {
  opacity: 1;
  pointer-events: auto;
  transform: translateX(-50%) translateY(0);
}

.fp-inner {
  display: flex;
  gap: 12px;
  align-items: center;
}

.fp-btn {
  background: rgba(255,255,255,0.08);
  border: none;
  padding: 8px 12px;
  border-radius: 10px;
  color: var(--accent);
  font-size: 18px;
  cursor: pointer;
  transition: 0.15s;
}

.fp-btn:active {
  transform: scale(0.9);
}

/* auto hide animation when scrolling */
.floating-player.hide {
  opacity: 0;
  pointer-events: none;
  transform: translateX(-50%) translateY(-20px);
}
/* nama lagu */
.fp-title {
  text-align: center;
  font-size: 13px;
  margin-bottom: 6px;
  color: var(--accent);
  opacity: 0.9;
}

/* progress bar */
.fp-seek {
  width: 100%;
  appearance: none;
  height: 4px;
  border-radius: 6px;
  background: rgba(255,255,255,0.25);
  outline: none;
  margin-bottom: 10px;
  cursor: pointer;
}

.fp-seek::-webkit-slider-thumb {
  appearance: none;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: var(--accent);
}
  </style>
</head>
<body>

  <h1><img src="aset/logo.jpg" alt="Logo" class="header-logo">APK PREMIUM BERBAYAR PB STORE üî•</h1>
  
<div class="search-container">
  <div class="search-box">
    <span class="search-icon">üîç</span>
    <button id="musicBtn" class="music-btn">üéµ</button>
    <input type="text" id="searchInput" placeholder="Cari aplikasi..." />
  </div>
</div>

<!-- FLOATING PLAYER -->
<div id="floatingPlayer" class="floating-player">
    <div class="fp-title" id="trackTitle">Loading...</div>

    <input type="range" id="seekBar" class="fp-seek" value="0" min="0" max="100">

    <div class="fp-inner">
        <button id="prevBtn" class="fp-btn">‚èÆÔ∏è</button>
        <button id="playPauseBtn" class="fp-btn">‚ñ∂Ô∏è</button>
        <button id="nextBtn" class="fp-btn">‚è≠Ô∏è</button>
        <button id="muteBtn" class="fp-btn">üîà</button>
    </div>
</div>

<audio id="audioPlayer"></audio>

  <div class="grid">
    <!-- Semua card aplikasi (sesuai file asli) -->
    <div class="card" data-app="Meitu"><img src="aset/meitu.png" alt="Meitu"><p>Meitu</p></div>
    <div class="card" data-app="Youku"><img src="aset/youku.png" alt="Youku"><p>Youku</p></div>
    <div class="card" data-app="Spotify"><img src="aset/spotify.png" alt="Spotify"><p>Spotify</p></div>
    <div class="card" data-app="Wink"><img src="aset/wink.png" alt="Wink"><p>Wink</p></div>
    <div class="card" data-app="WeTV"><img src="aset/wetv.png" alt="WeTV"><p>WeTV</p></div>
    <div class="card" data-app="Bstation"><img src="aset/bstation.png" alt="Bstation"><p>Bstation</p></div>
    <div class="card" data-app="Disney"><img src="aset/disney.png" alt="Disney"><p>Disney</p></div>
    <div class="card" data-app="ChatGPT"><img src="aset/chatgpt.png" alt="ChatGPT"><p>ChatGPT</p></div>
    <div class="card" data-app="Getcontact"><img src="aset/getcontact.png" alt="Getcontact"><p>Getcontact</p></div>
    <div class="card" data-app="Alight Motion"><img src="aset/alight.png" alt="Alight Motion"><p>Alight Motion</p></div>
    <div class="card" data-app="Canva"><img src="aset/canva.png" alt="Canva"><p>Canva</p></div>
    <div class="card" data-app="Remini"><img src="aset/remini.png" alt="Remini"><p>Remini</p></div>
    <div class="card" data-app="Capcut"><img src="aset/capcut.png" alt="Capcut"><p>Capcut</p></div>
    <div class="card" data-app="DramaBox"><img src="aset/dramabox.png" alt="DramaBox"><p>DramaBox</p></div>
    <div class="card" data-app="Vidio"><img src="aset/vidio.png" alt="Vidio"><p>Vidio</p></div>
    <div class="card" data-app="Loklok"><img src="aset/loklok.png" alt="Loklok"><p>Loklok</p></div>
    <div class="card" data-app="Netflix"><img src="aset/netflix.png" alt="Netflix"><p>Netflix</p></div>
    <div class="card" data-app="Viu"><img src="aset/viu.png" alt="Viu"><p>Viu</p></div>
    <div class="card" data-app="YouTube"><img src="aset/youtube.png" alt="YouTube"><p>YouTube</p></div>
    <div class="card" data-app="Melolo"><img src="aset/melolo.png" alt="Melolo"><p>Melolo</p></div>
    <div class="card" data-app="Reelshort"><img src="aset/reels.png" alt="Reelshort"><p>Reelshort</p></div>
    <div class="card" data-app="VSCO"><img src="aset/vsco.png" alt="VSCO"><p>VSCO</p></div>
    <div class="card" data-app="Picsart"><img src="aset/picsart.png" alt="Picsart"><p>Picsart</p></div>
    <div class="card" data-app="Iqiyi"><img src="aset/iqiyi.png" alt="Iqiyi"><p>Iqiyi</p></div>
    <div class="card" data-app="Ibis Paint X"><img src="aset/ibis.png" alt="Ibis Paint X"><p>Ibis Paint X</p></div>
    <div class="card" data-app="Photoroom">
    <img src="aset/photoroom.png" alt="Photoroom"><p>Photoroom</p></div>
    <div class="card" data-app="Microsoft 365">
    <img src="aset/microsoft365.png" alt="Microsoft 365"><p>Microsoft 365</p></div>
    <div class="card" data-app="Express VPN">
    <img src="aset/vpn.png" alt="Express VPN">
    <p>Express VPN</p></div>
    <div class="card" data-app="Lightroom">
    <img src="aset/lightroom.png" alt="Lightroom"><p>Lightroom</p></div>
    <div class="card" data-app="BeautyPlus">
    <img src="aset/beautyplus.png" alt="BeautyPlus"><p>BeautyPlus</p></div>
  </div>

  <!-- Modal / Popup -->
  <div id="popup" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="popupTitle">
      <span class="close-btn" id="closePopup" title="Tutup">&times;</span>
      <div id="popupTitle"></div>
      <div id="hargaList"></div>

<!-- logo metode pembayaran -->
<div class="payment-methods" id="paymentMethods">
  <div class="payment" data-pay="GoPay"><img src="aset/gopay.png" alt="GoPay"></div>
  <div class="payment" data-pay="Dana"><img src="aset/dana.png" alt="Dana"></div>
  <div class="payment" data-pay="QRIS"><img src="aset/qris.png" alt="QRIS"></div>
  <div class="payment" data-pay="ShopeePay"><img src="aset/shopee.png" alt="ShopeePay"></div>
  <div class="payment" data-pay="OVO"><img src="aset/ovo.png" alt="OVO"></div>
  <div class="payment" data-pay="Seabank"><img src="aset/seabank.png" alt="Seabank"></div>
</div>

      <div class="notes">
        <b>Notes :</b><br>
        * Selalu tanyakan stock terlebih dahulu<br>
        * Shar ga boleh otak-atik apapun itu !<br>
        * Full garansi jika mengikuti rules<br>
        * No reff kec kesalahan admin<br>
        * Harga sewaktu-waktu dapat berubah
      </div>

      <button id="reserveBtn" class="primary" disabled>Reservasi Sekarang</button>
    </div>
  </div>

  <!-- Social -->
  <div class="social-section">
    <div class="social-caption">Jika ada yang ingin di tanyakan klik aja tombol di bawah, garansi hanya berlaku untuk kondisi tertentu di saat penyerahan akun akan di tambahkan keterangan </div>
    <div class="social-links">
      <a href="https://t.me/petirbirustore" target="_blank" rel="noopener">Telegram</a>
      <a href="https://www.instagram.com/petirbirustore?igsh=ajExN3hsN2R4a3Vi" target="_blank" rel="noopener">Instagram</a>
      <a href="https://wa.me/message/WJQDFEAVBQ2SB1" target="_blank" rel="noopener">WhatsApp</a>
    </div>

    <div class="social-links" style="margin-top:6px;">
      <a href="https://t.me/proofpetirbiru" target="_blank" rel="noopener">üì∏ Testimoni</a>
    </div>
  </div>

  <footer>¬©pbstore all not copyrighted</footer>

  <script>
    // elemen
    const popup = document.getElementById('popup');
    const popupTitle = document.getElementById('popupTitle');
    const hargaList = document.getElementById('hargaList');
    const reserveBtn = document.getElementById('reserveBtn');
    const closePopupBtn = document.getElementById('closePopup');
    const paymentBtns = document.querySelectorAll('.payment');

    let selectedApp = '';
    let selectedHarga = '';
    let selectedPay = '';

    // data semua harga (sama persis seperti file asli yang kamu kirim)
    const hargaData = {
      "Meitu": [
        "Meitu sharing 1 bulan : 15.000"
      ],
      "Youku": [
        "Youku sharing 1 bulan : 7.000"
      ],
      "Spotify": [
        "Spotify famp 1b (fullgar) : 16.500",
        "Spotify famp 2b (fullgar) : 28.000",
        "Spotify indp 1b (fullgar) : 18.000",
        "Spotify indp 1b (nogar) : 10.000",
        "Spotify indp 3b (fullgar) : 32.000"
      ],
      "Wink": [
        "Wink priv android 7 hari : 16.000",
        "Wink shar ios 7 hari : 9.000"
      ],
      "WeTV": [
        "WeTV shar 1 bulan : 8.000",
        "WeTV priv 1 bulan : 28.000"
      ],
      "Bstation": [
        "Bstation sharing 1 bulan : 8.000",
        "Bstation sharing 1 tahun : 13.000"
      ],
      "Disney": [
        "Disney sharing 1 bulan : 20.000"
      ],
      "ChatGPT": [
        "1 bulan shar 8 user (fullgar) : 23.000",
        "1 bulan shar 8 user (nogar) : 13.000"
      ],
      "Getcontact": [
        "Getcontact 1 bulan : 12.500",
        "Getcontact (cek nomor) : 1.500/no"
      ],
      "Alight Motion": [
        "AM shar 1 tahun : 5.000",
        "AM priv 1 tahun : 7.000"
      ],
      "Canva": [
        "Canva pro 1 bulan : 1.500",
        "Canva pro 2 bulan : 2.500",
        "Canva pro 3 bulan : 3.500",
        "Canva pro 4 bulan : 4.500",
        "Canva pro 5 bulan : 5.500",
        "Canva pro 1 tahun : 8.500",
        "Canva lifetime no renew : 11.000"
      ],
      "Remini": [
        "Sharing 1 bulan : 10.000",
        "Privat log apk 1 tahun lite : 27.000"
      ],
      "Capcut": [
        "Capcut shar 7 hari : 5.000",
        "Capcut shar 1 bulan 3 user : 9.000",
        "Capcut priv 7 hari : 7.000",
        "Capcut priv 1 bulan : 13.000"
      ],
      "DramaBox": [
        "DramaBox sharing 1b : 13.000"
      ],
      "Vidio": [
        "Vidio platinum priv 1b : 32.000",
        "Vidio platinum shar 1b2u : 18.000",
        "Vidio mobile priv 1b : 22.000",
        "Vidio mobile shar 1b2u : 13.000",
        "Vidio platinum only tv priv 1y : 7.000 ( *Nogar* )"
      ],
      "Loklok": [
        "Sharing 1b : 15.000",
        "Sharing standar 1b : 19.000"
      ],
      "Netflix": [
        "1p2u ( 1 hari ) : 3.000",
        "1p2u ( 3 hari ) : 6.000",
        "1p2u ( 7 hari ) : 9.000",
        "1p2u ( 1 bulan ) : 16.000",
        "1p1u ( 1 hari ) : 4.500",
        "1p1u ( 3 hari ) : 8.000",
        "1p1u ( 7 hari ) : 10.500",
        "1p1u ( 1 bulan ) : 24.000",
        "semipriv ( 1 hari ) : 5.000",
        "semipriv ( 2 hari ) : 7.000",
        "semipriv ( 7 hari ) : 14.000",
        "semipriv ( 1 bulan ) : 27.000",
      ],
      "Viu": [
        "Viu priv anlim 1 bulan : 1.000",
        "Viu priv anlim 2 bulan : 2.000",
        "Viu priv anlim 3 bulan : 3.000",
        "Viu priv anlim 1 tahun : 6.000"
      ],
      "YouTube": [
        "family plan ( famplan ) - 1 bulan : 7.500",
        "family plan ( famplan ) - 2 bulan : 14.000",
        "individual plan ( indplan ) - 13.000 ( email seller )",
        "individual plan ( indplan ) - 9.000 ( email buyyer )",
      ],
      "Melolo": [
        "Melolo sharing 1 b : 8.500",
        "Melolo sharing 6 b : 17.500",
        "Melolo sharing 1 th : 22.000"
      ],
      "Reelshort": [
        "Reelshort sharing 1 b : 12.000"
      ],
      "VSCO": [
        "VSCO pro sharing 1 th : 15.000"
      ],
      "Picsart": [
        "Picsart sharing 1 bulan : 6.500",
        "Picsart privat 1 bulan : 10.000"
      ],
      "Iqiyi": [
        "Iqiyi 1 bulan : 7.000",
        "Iqiyi 1 th : 15.000"
      ],
      "Ibis Paint X": [
        "Ibis Paint X 1 tahun : 20.000"
      ],
      "Photoroom": [
        "Photoroom 1 tahun : 23.000"
      ],
      "Microsoft 365": [
        "Microsoft 365 1 bulan : 9.000"
      ],
      "Express VPN": [
        "Express private 1 bulan : 13.000"
      ],
      "Lightroom": [
        "Lightroom 1 tahun : 18.000"
      ],
      "BeautyPlus": [
        "BeautyPlus Android 6 bulan : 15.000",
        "BeautyPlus iOS 1 tahun : 20.000"
      ],
    };

    // helper: bersihkan pilihan
    function resetSelection(){
      selectedHarga = '';
      selectedPay = '';
      document.querySelectorAll('#hargaList .harga').forEach(el=>el.classList.remove('active'));
      document.querySelectorAll('.payment').forEach(el=>el.classList.remove('active'));
      reserveBtn.disabled = true;
    }

    // tutup modal & reset
    function closePopupAndReset(){
      popup.style.display = 'none';
      popup.setAttribute('aria-hidden','true');
      resetSelection();
    }

    // buka modal berdasarkan app
    document.querySelectorAll('.card').forEach(card=>{
      card.addEventListener('click', ()=>{
        selectedApp = card.dataset.app || '';
        popupTitle.textContent = selectedApp;
        hargaList.innerHTML = '';
        resetSelection();

        // jika ada harga, tampilkan
        if (hargaData[selectedApp] && hargaData[selectedApp].length){
          hargaData[selectedApp].forEach(h=>{
            const div = document.createElement('div');
            div.className = 'harga';
            div.textContent = h;
            div.addEventListener('click', ()=>{
              // tandai hanya 1 harga aktif
              document.querySelectorAll('#hargaList .harga').forEach(el=>el.classList.remove('active'));
              div.classList.add('active');
              selectedHarga = h;
              updateReserveState();
            });
            hargaList.appendChild(div);
          });
        } else {
          const none = document.createElement('div');
          none.className = 'harga';
          none.textContent = 'Belum ada daftar harga.';
          none.style.cursor = 'default';
          hargaList.appendChild(none);
        }

        // atur event listener payment buttons (pastikan tidak dobel)
        document.querySelectorAll('.payment').forEach(pbtn=>{
          pbtn.onclick = ()=>{
            document.querySelectorAll('.payment').forEach(x=>x.classList.remove('active'));
            pbtn.classList.add('active');
            selectedPay = pbtn.dataset.pay;
            updateReserveState();
          };
        });

        popup.style.display = 'flex';
        popup.setAttribute('aria-hidden','false');
      });
    });

    // update tombol reservasi -> aktif jika ada harga dan metode pembayaran dipilih
    function updateReserveState(){
      reserveBtn.disabled = !(selectedHarga && selectedPay);
    }

    // close X
    closePopupBtn.addEventListener('click', closePopupAndReset);

    // close klik di luar konten
    popup.addEventListener('click', (e)=>{
      if (e.target === popup) closePopupAndReset();
    });

    // reservasi tombol
    reserveBtn.addEventListener('click', ()=>{
      if (!selectedHarga || !selectedPay){
        alert('Pilih daftar harga dan metode pembayaran terlebih dahulu.');
        reserveBtn.disabled = true;
        return;
      }
      // sertakan metode pembayaran di pesan WA
      const text = encodeURIComponent(`Halo admin, saya mau pesan ${selectedApp} - ${selectedHarga} | Pembayaran via ${selectedPay}                    Apakah ada perubahan harga untuk aplikasi ini?`);
      // reset & close sebelum open WA agar state bersih
      closePopupAndReset();
      window.open(`https://wa.me/6288279019829?text=${text}`,'_blank');
    });

    // ESC close
    document.addEventListener('keydown', e=>{
      if (e.key === 'Escape' && popup.style.display === 'flex'){
        closePopupAndReset();
      }
    });
    // SEARCH FILTER
const searchInput = document.getElementById("searchInput");

searchInput.addEventListener("keyup", function () {
  const keyword = searchInput.value.toLowerCase();
  const cards = document.querySelectorAll(".card");

  cards.forEach(card => {
    const appName = card.dataset.app.toLowerCase();
    if (appName.includes(keyword)) {
      card.style.display = "block";
    } else {
      card.style.display = "none";
    }
  });
});
// === FLOATING MUSIC PLAYER ===
const musicBtn = document.getElementById("musicBtn");
const floatingPlayer = document.getElementById("floatingPlayer");

const playPauseBtn = document.getElementById("playPauseBtn");
const prevBtn = document.getElementById("prevBtn");
const nextBtn = document.getElementById("nextBtn");
const muteBtn = document.getElementById("muteBtn");
const audio = document.getElementById("audioPlayer");
const trackTitle = document.getElementById("trackTitle");
const seekBar = document.getElementById("seekBar");

// Playlist musik
const PLAYLIST = [
  { url: "https://files.catbox.moe/wj8cf4.mp3", title: "Ini berlebihan" },
  { url: "https://files.catbox.moe/6n6ngh.mp3", title: "Bertaut" },
  { url: "https://files.catbox.moe/li3gfa.mp3", title: "Rayuan Perempuan Gila" },
  { url: "https://files.catbox.moe/6prw70.mp3", title: "Halu" },
  { url: "https://files.catbox.moe/9iu8t7.mp3", title: "Terpikat Senyummu" },
  { url: "https://files.catbox.moe/iwrdct.mp3", title: "Berisik" },
  { url: "https://files.catbox.moe/9t1mfq.mp3", title: "Sedia Aku Sebelum Hujan" },
  { url: "https://files.catbox.moe/8mnmsr.mp3", title: "Satu Bulan"},
];

let indexTrack = 0;
let isPlaying = false;

// buka/tutup player
musicBtn.addEventListener("click", () => {
  floatingPlayer.classList.toggle("show");
});

// Ambil nama file saja dari URL
function extractName(url) {
  return decodeURIComponent(url.split("/").pop());
}

// load lagu
function loadTrack(i) {
  indexTrack = (i + PLAYLIST.length) % PLAYLIST.length;
  // ambil link musik
  audio.src = PLAYLIST[indexTrack].url;
  // ambil judul musik custom
  trackTitle.textContent = PLAYLIST[indexTrack].title;
  // reset progress bar
  seekBar.value = 0;
}
// play
function playTrack() {
  if (!audio.src) loadTrack(0);
  audio.play();
  isPlaying = true;
  playPauseBtn.textContent = "‚è∏Ô∏è";
}

// pause
function pauseTrack() {
  audio.pause();
  isPlaying = false;
  playPauseBtn.textContent = "‚ñ∂Ô∏è";
}

playPauseBtn.addEventListener("click", () => {
  isPlaying ? pauseTrack() : playTrack();
});

nextBtn.addEventListener("click", () => {
  loadTrack(indexTrack + 1);
  if (isPlaying) playTrack();
});

prevBtn.addEventListener("click", () => {
  loadTrack(indexTrack - 1);
  if (isPlaying) playTrack();
});

muteBtn.addEventListener("click", () => {
  audio.muted = !audio.muted;
  muteBtn.textContent = audio.muted ? "üîá" : "üîà";
});

// progress bar berjalan otomatis
audio.addEventListener("timeupdate", () => {
  seekBar.value = (audio.currentTime / audio.duration) * 100;
});

// drag progress bar
seekBar.addEventListener("input", () => {
  audio.currentTime = (seekBar.value / 100) * audio.duration;
});

// auto next saat lagu selesai
audio.addEventListener("ended", () => {
  loadTrack(indexTrack + 1);
  playTrack();
});

// === AUTO HIDE PLAYER SAAT SCROLL ===
let lastScrollY = window.scrollY;

window.addEventListener("scroll", () => {
  if (!floatingPlayer.classList.contains("show")) return;

  if (window.scrollY > lastScrollY) {
    floatingPlayer.classList.add("hide");
  } else {
    floatingPlayer.classList.remove("hide");
  }
  lastScrollY = window.scrollY;
});

// load pertama
loadTrack(0);
  </script>
</body>
</html>